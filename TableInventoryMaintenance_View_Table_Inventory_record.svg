<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="578px" preserveAspectRatio="none" style="width:2278px;height:578px;" version="1.1" viewBox="0 0 2278 578" width="2278px" zoomAndPan="magnify"><defs><filter height="300%" id="f16amewt3060mv" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#DDDDDD" height="563.1406" style="stroke: #A80036; stroke-width: 1.0;" width="603.5" x="569" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="166" x="787.75" y="17.4951">gems-inventory-composite</text><rect fill="#DDDDDD" height="563.1406" style="stroke: #A80036; stroke-width: 1.0;" width="666" x="1215" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="97" x="1499.5" y="17.4951">gems-inventory</text><rect fill="#DDDDDD" height="563.1406" style="stroke: #A80036; stroke-width: 1.0;" width="384" x="1883" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="70" x="2040" y="17.4951">gems-audit</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="248" x2="248" y1="73.9609" y2="514.5313"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="676" x2="676" y1="73.9609" y2="514.5313"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="980.5" x2="980.5" y1="73.9609" y2="514.5313"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1113.5" x2="1113.5" y1="73.9609" y2="514.5313"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1340" x2="1340" y1="73.9609" y2="514.5313"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1755" x2="1755" y1="73.9609" y2="514.5313"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1977" x2="1977" y1="73.9609" y2="514.5313"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2170" x2="2170" y1="73.9609" y2="514.5313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="219" y="70.8848">frontend</text><path d="M228,28.3516 L228,52.3516 M228,40.3516 L245,40.3516 " fill="none" filter="url(#f16amewt3060mv)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="257" cy="40.3516" fill="#FEFECE" filter="url(#f16amewt3060mv)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="219" y="528.0645">frontend</text><path d="M228,535.1406 L228,559.1406 M228,547.1406 L245,547.1406 " fill="none" filter="url(#f16amewt3060mv)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="257" cy="547.1406" fill="#FEFECE" filter="url(#f16amewt3060mv)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="201" x="573" y="70.8848">InventoryMaintenanceController</text><ellipse cx="676.5" cy="40.3516" fill="#FEFECE" filter="url(#f16amewt3060mv)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="672.5,28.3516,678.5,23.3516,676.5,28.3516,678.5,33.3516,672.5,28.3516" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="201" x="573" y="528.0645">InventoryMaintenanceController</text><ellipse cx="676.5" cy="547.1406" fill="#FEFECE" filter="url(#f16amewt3060mv)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="672.5,535.1406,678.5,530.1406,676.5,535.1406,678.5,540.1406,672.5,535.1406" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="130" x="912.5" y="70.8848">InventoryServiceImpl</text><ellipse cx="980.5" cy="40.3516" fill="#FEFECE" filter="url(#f16amewt3060mv)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="968.5" x2="992.5" y1="54.3516" y2="54.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="130" x="912.5" y="528.0645">InventoryServiceImpl</text><ellipse cx="980.5" cy="547.1406" fill="#FEFECE" filter="url(#f16amewt3060mv)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="968.5" x2="992.5" y1="561.1406" y2="561.1406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="1058.5" y="70.8848">AuditServiceImpl</text><ellipse cx="1113.5" cy="40.3516" fill="#FEFECE" filter="url(#f16amewt3060mv)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1101.5" x2="1125.5" y1="54.3516" y2="54.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="1058.5" y="528.0645">AuditServiceImpl</text><ellipse cx="1113.5" cy="547.1406" fill="#FEFECE" filter="url(#f16amewt3060mv)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1101.5" x2="1125.5" y1="561.1406" y2="561.1406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="237" x="1219" y="70.8848">TableInventoryMaintenanceController</text><ellipse cx="1340.5" cy="40.3516" fill="#FEFECE" filter="url(#f16amewt3060mv)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1336.5,28.3516,1342.5,23.3516,1340.5,28.3516,1342.5,33.3516,1336.5,28.3516" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="237" x="1219" y="528.0645">TableInventoryMaintenanceController</text><ellipse cx="1340.5" cy="547.1406" fill="#FEFECE" filter="url(#f16amewt3060mv)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1336.5,535.1406,1342.5,530.1406,1340.5,535.1406,1342.5,540.1406,1336.5,535.1406" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="237" x="1634" y="70.8848">InventoryTransactionDetailRepository</text><ellipse cx="1755.5" cy="40.3516" fill="#FEFECE" filter="url(#f16amewt3060mv)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1751.5,28.3516,1757.5,23.3516,1755.5,28.3516,1757.5,33.3516,1751.5,28.3516" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="237" x="1634" y="528.0645">InventoryTransactionDetailRepository</text><ellipse cx="1755.5" cy="547.1406" fill="#FEFECE" filter="url(#f16amewt3060mv)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1751.5,535.1406,1757.5,530.1406,1755.5,535.1406,1757.5,540.1406,1751.5,535.1406" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="174" x="1887" y="70.8848">TableActivityAuditController</text><ellipse cx="1977" cy="40.3516" fill="#FEFECE" filter="url(#f16amewt3060mv)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1973,28.3516,1979,23.3516,1977,28.3516,1979,33.3516,1973,28.3516" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="174" x="1887" y="528.0645">TableActivityAuditController</text><ellipse cx="1977" cy="547.1406" fill="#FEFECE" filter="url(#f16amewt3060mv)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1973,535.1406,1979,530.1406,1977,535.1406,1979,540.1406,1973,535.1406" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="180" x="2077" y="70.8848">TableActivityAuditRepository</text><ellipse cx="2170" cy="40.3516" fill="#FEFECE" filter="url(#f16amewt3060mv)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="2166,28.3516,2172,23.3516,2170,28.3516,2172,33.3516,2166,28.3516" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="180" x="2077" y="528.0645">TableActivityAuditRepository</text><ellipse cx="2170" cy="547.1406" fill="#FEFECE" filter="url(#f16amewt3060mv)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="2166,535.1406,2172,530.1406,2170,535.1406,2172,540.1406,2166,535.1406" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="664.5,115.1367,674.5,119.1367,664.5,123.1367,668.5,119.1367" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="248.5" x2="670.5" y1="119.1367" y2="119.1367"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="404" x="255.5" y="114.6318">api/tgames/v1/inventory/inventoryMaintenance/tableInventory/{location}</text><path d="M8,88.9609 L8,130.9609 L240,130.9609 L240,98.9609 L230,88.9609 L8,88.9609 " fill="#FBFB77" filter="url(#f16amewt3060mv)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M230,88.9609 L230,98.9609 L240,98.9609 L230,88.9609 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="211" x="14" y="107.4561">Menu -&gt; Executive Information Menu</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="14" y="123.8076">-&gt; Table Inventory Maintenance</text><polygon fill="#A80036" points="968.5,158.6641,978.5,162.6641,968.5,166.6641,972.5,162.6641" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="676.5" x2="974.5" y1="162.6641" y2="162.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="273" x="683.5" y="158.1592">findTableInventory(location,startPage,pageSize)</text><polygon fill="#A80036" points="1328.5,189.0156,1338.5,193.0156,1328.5,197.0156,1332.5,193.0156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="980.5" x2="1334.5" y1="193.0156" y2="193.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="336" x="987.5" y="188.5107">/tableInventoryMaintenance/inventoryTransaction/{location}</text><polygon fill="#A80036" points="1743.5,224.3672,1753.5,228.3672,1743.5,232.3672,1747.5,228.3672" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1340.5" x2="1749.5" y1="228.3672" y2="228.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="391" x="1347.5" y="223.8623">findByAssociationIdAndAssociationStatusAndTypeAndTtvipRequest</text><path d="M693,206.3672 L693,232.3672 L1331,232.3672 L1331,216.3672 L1321,206.3672 L693,206.3672 " fill="#FBFB77" filter="url(#f16amewt3060mv)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1321,206.3672 L1321,216.3672 L1331,216.3672 L1321,206.3672 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="617" x="699" y="224.8623">根据AssociationId, AssociationStatus,Type, 和 TtvipRequest 从表chips_inventory_transaction分页获取数据</text><polygon fill="#A80036" points="991.5,259.7188,981.5,263.7188,991.5,267.7188,987.5,263.7188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="985.5" x2="1754.5" y1="263.7188" y2="263.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="260" x="997.5" y="259.2139">return Page&lt;GamingTableTransactionEntity&gt;</text><polygon fill="#A80036" points="687.5,290.0703,677.5,294.0703,687.5,298.0703,683.5,294.0703" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="681.5" x2="979.5" y1="294.0703" y2="294.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="280" x="693.5" y="289.5654">return PageInfo&lt;GamingTableTransactionEntity&gt;</text><polygon fill="#A80036" points="1101.5,320.4219,1111.5,324.4219,1101.5,328.4219,1105.5,324.4219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="676.5" x2="1107.5" y1="324.4219" y2="324.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="177" x="683.5" y="319.917">GamingTableTransactionEntity</text><polygon fill="#A80036" points="1965,350.7734,1975,354.7734,1965,358.7734,1969,354.7734" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1113.5" x2="1971" y1="354.7734" y2="354.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="1120.5" y="350.2686">/activities/{activityId}</text><polygon fill="#A80036" points="2158,386.125,2168,390.125,2158,394.125,2162,390.125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1977" x2="2164" y1="390.125" y2="390.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="1984" y="385.6201">findByActivity(activityId)</text><path d="M1701,368.125 L1701,394.125 L1968,394.125 L1968,378.125 L1958,368.125 L1701,368.125 " fill="#FBFB77" filter="url(#f16amewt3060mv)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1958,368.125 L1958,378.125 L1968,378.125 L1958,368.125 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="246" x="1707" y="386.6201">根据activityId 从表activity_audit中获取数据</text><polygon fill="#A80036" points="1124.5,421.4766,1114.5,425.4766,1124.5,429.4766,1120.5,425.4766" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1118.5" x2="2169" y1="425.4766" y2="425.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="1130.5" y="420.9717">return TableActivityAuditEntity</text><polygon fill="#A80036" points="687.5,451.8281,677.5,455.8281,687.5,459.8281,683.5,455.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="681.5" x2="1112.5" y1="455.8281" y2="455.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="693.5" y="451.3232">return TableActivityAuditEntity</text><polygon fill="#A80036" points="259.5,487.1797,249.5,491.1797,259.5,495.1797,255.5,491.1797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="253.5" x2="675.5" y1="491.1797" y2="491.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="265.5" y="486.6748">GenericApiResponse</text><path d="M681,469.1797 L681,495.1797 L855,495.1797 L855,479.1797 L845,469.1797 L681,469.1797 " fill="#FBFB77" filter="url(#f16amewt3060mv)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M845,469.1797 L845,479.1797 L855,479.1797 L845,469.1797 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="153" x="687" y="487.6748">返回 TableInventoryVo List</text><!--
@startuml
boundary frontend
box "gems-inventory-composite"
control InventoryMaintenanceController
entity InventoryServiceImpl
entity AuditServiceImpl
end box
box "gems-inventory"
control TableInventoryMaintenanceController
control InventoryTransactionDetailRepository
end box
box "gems-audit"
control TableActivityAuditController
control TableActivityAuditRepository
end box

frontend -> InventoryMaintenanceController: api/tgames/v1/inventory/inventoryMaintenance/tableInventory/{location}
note left
Menu -> Executive Information Menu
-> Table Inventory Maintenance
end note

InventoryMaintenanceController->InventoryServiceImpl:findTableInventory(location,startPage,pageSize)
InventoryServiceImpl->TableInventoryMaintenanceController:/tableInventoryMaintenance/inventoryTransaction/{location}
TableInventoryMaintenanceController->InventoryTransactionDetailRepository:findByAssociationIdAndAssociationStatusAndTypeAndTtvipRequest
note left
根据AssociationId, AssociationStatus,Type, 和 TtvipRequest 从表chips_inventory_transaction分页获取数据
end note
InventoryTransactionDetailRepository->InventoryServiceImpl:return Page<GamingTableTransactionEntity>
InventoryServiceImpl->InventoryMaintenanceController:return PageInfo<GamingTableTransactionEntity>

InventoryMaintenanceController->AuditServiceImpl:GamingTableTransactionEntity
AuditServiceImpl->TableActivityAuditController: /activities/{activityId}
TableActivityAuditController->TableActivityAuditRepository:findByActivity(activityId)
note left
根据activityId 从表activity_audit中获取数据
end note
TableActivityAuditRepository->AuditServiceImpl:return TableActivityAuditEntity
AuditServiceImpl->InventoryMaintenanceController:return TableActivityAuditEntity

InventoryMaintenanceController->frontend :GenericApiResponse
note right
返回 TableInventoryVo List
end note
@enduml

PlantUML version 1.2018.01(Mon Jan 29 02:08:22 CST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_152-release-1024-b11
Operating System: Windows 10
OS Version: 10.0
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>